function login(){var e=$("#email").val(),r=$("#password").val(),a=$("#sign").val();return""==e?($("#email").focus(),!1):""==r?(alert("คุณยังไม่ได้กรอกรหัสผ่าน!"),$("#password").focus(),!1):($progress=$("#progress-bar"),$progress.fadeIn(300),$progress.animate({width:"30%"},300),$.get({url:"api.user.php",timeout:1e4,cache:!1,dataType:"json",type:"POST",data:{calling:"user",action:"login",email:e,password:r,sign:a},error:function(){console.log("Request Error")}}).done(function(e){if($progress.animate({width:"70%"},300),1==e.return){$("#btn-login").addClass("loading"),$("#btn-login").html("กำลังเข้าระบบ..."),$progress.animate({width:"100%"},300);var r=$("#redirect_page").val(),a=$("#redirect_id").val(),s=$("#invite_code").val();setTimeout(function(){window.location=""!=s?"invite?c="+s:""!=r&&""!=a?r+"/"+a:"index.php?login=success"},1e3)}else 0==e.return?($progress.animate({width:"0%"},300),alert("เข้าระบบไม่สำเร็จ กรุณาตรวจสอบอีกครั้ง!")):-1==e.return&&($progress.animate({width:"0%"},300),alert("คุณต้องรออีก 5 นาที เพื่อเข้าระบบใหม่!"))}).fail(function(){alert("ระบบทำงานผิดพลาด กรุณาลองใหม่อีกครั้ง!"),$progress.animate({width:"0%"},300),$("#password").focus(),$("#password").val("")}),void 0)}function register(){var e=$("#email").val(),r=$("#name").val(),a=$("#password").val(),s=$("#sign").val();return""==r?($("#name").focus(),!1):""==e?(alert("คุณยังไม่ได้ใส่อีเมล!"),$("#email").focus(),!1):""==a?(alert("คุณยังไม่ได้กรอกรหัสผ่าน!"),$("#password").focus(),!1):($progress=$("#progress-bar"),$progress.fadeIn(300),$progress.animate({width:"30%"},300),$.ajax({url:"api.user.php",timeout:1e4,cache:!1,dataType:"json",type:"POST",data:{calling:"user",action:"register",email:e,name:r,password:a,sign:s},error:function(){console.log("Request Error")}}).done(function(e){var r=$("#invite_code").val();$progress.animate({width:"70%"},300),0!=e.return?($("#btn-register").addClass("-loading"),$("#btn-register").html("กำลังลงทะเบียน..."),$progress.animate({width:"100%"},300),setTimeout(function(){window.location=""!=r?"invite?c="+r:"index.php?regsiter=success"},1e3)):($progress.animate({width:"0%"},300),alert("อีเมลนี้มีในระบบแล้ว!"))}).fail(function(){alert("ระบบทำงานผิดพลาด กรุณาลองใหม่อีกครั้ง!"),$progress.animate({width:"0%"},300),$("#password").focus(),$("#password").val("")}),void 0)}